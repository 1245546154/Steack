端口号 是0-65535  常用0-255

ping  arping  tcping  icmping telnet  

安装包 RE6 向下兼容 RE5   下级不能向上兼容


tcp_wrappers是linux中一个安全机制[TCP_wrappers防火墙
与tcp_wrappers相关的文件有
/etc/hosts.allow
/etc/hosts.deny


TCP_Wrappers工作原理（了解）：
TCP_Wrappers有一个守护进程叫作tcpd。以ssh为例，每当有ssh的连接请求时，tcpd即会截获请求，先读取系统管理员所设置的访问控制文件/etc/hosts.allow和/etc/hosts.deny;合乎要求，则会把这次连接原封不动的转给真正的sshd进程，sshd完成后续工作；如果这次连接发起的ip不符合访问控制文件中的设置，则会中断连接请求，拒绝提供ssh服务。


  SSH有v1和v2版本
   -  ssh v1：有漏洞，容易受到攻击
   -  ssh v2：通过公钥加密（数字签名和密钥交换）的方式进行，确保服务器端的身份识别


ssh-copy-id -i IP地址


FTP的默认端口 21号（命令连接端口）    20号（数据连接端口） 默认被动模式下

ftp     局域网和外网都可以  使用TCP协议  安全性高  跨平台适用于Linux和Windows

NFS 主要用于linux系统上的有一种文件共享的协议，客户端主要面向对的是linux系统  适用于局域网  安全性较低 可以用挂载方式访问

smaba 主要用于windows和Linux下的文件共享、打印共享 适用于局域网  不支持tcpd


useradd 
　-g<群组> 　指定用户所属的群组。 
　-G<群组> 　指定用户所属的附加群组


- rsync 远程同步：remote  synchronous
- rsync的特点
。 （需要ssh服务的支持）
- sync  同步：刷新文件系统缓存，==强制==将修改过的数据块写入磁盘，并且更新超级块。

- async 异步：将数据先放到缓冲区，再周期性（一般是30s）的去同步到磁盘。



uname -a：  查看系统内核

Inotify API用于检测文件系统变化的机制。Inotify可用于检测单个文件，也可以检测整个目录。
rsync+inotify 用于实现事实同步


DNS：正向解析：将主机域名转换为对应的IP        域名――>IP	A记录    nslookup
   ：反向解析：将主机的IP地址转换为对应的域名  IP――>域名	PTR记录


13台根域服务器   一级一级的进行解析



Rsyslog系统日志管理
rsyslog程序管理本地和远程日志
rsyslog管理本地日志，需要安装rsyslog服务，并且开启对应服务的日志记录功能。

把多台服务器的日志远程记录到其中一台日志服务器集中化管理，方便对其统一分析和管理

现在对应需要管理服务的机器上做本地的日志管理（需要在rsyslog配置文件内将日志地址指向log服务器的IP地址）。
然后在统一的日志服务器上做远程管理，修改rsyslog配置文件，加载模块$ModLoad imtcp  打开$InputTCPServerRun 514端口   重启服务 被动等待数据的上传。 
如果机器太多，需要自己定义一个模板来保存不同的日志文件。
修改rsyslog配置文件，重新定义一个新的模板  $template DynFile,"/var/log/system-%HOSTNAME%.log" （将接受到的日志，以主机名命名） 加载新定义的模块 local0.*	?DynFile




日志轮转： 进行切割 备份  和  归档  自动删除超过时间限定的日志节省空间  日志轮转的程序是logrotate


web服务的中间件  php jsp 

lamp的安装顺序  mysql―apr―httpd―PHP   它们通常一起使用来运行动态网站（http只能运行静态页面）


TCP/IP 4层结构：链路层 网络层 运输层 应用层。

如果一个主机要传送数据到别的主机，先把数据装到一个特殊协议报头中，这个过程叫-----封装。
上述的逆向过程――解封装



TCP协议的三次握手
ACK：确认序号有效。
SYN：发起一个新连接。
FIN：释放一个连接

TCP三次握手的过程：
1. 客户机A端（主动连接端）发送一个SYN包给服务器B端（被动连接端）；
2. 服务器B端（被动连接端）收到SYN包后，发送一个带ACK和SYN标志的包给客户机A端（主动连接端）；
3. 客户机A端（主动连接端）发送一个带ACK标志的包给服务器B端（被动连接端），握手动作完成。


TCP四次断开的过程：
1. 客户机A端（主动连接端）发送一个FIN包给服务器B端（被动连接端）请求断开连接；
2. 服务器B端（被动连接端）收到FIN包后，发送一个ACK包给客户机A端（主动连接端）；
3. 服务器B端（被动连接端）发送了ACK包后，再发送一个FIN包给客户机A端（主动连接端）确认断开；
4. 客户机A端（主动连接端）收到FIN包后，发送一个ACK包，当服务器B端（被动连接端）收到ACK包后，四次断开动作完成，连接断开。





条带化：
        把保存到逻辑卷的数据分成n等分，分别写到不同的物理卷，可以提高数据的读写效率；
        如果任何一个涉及到的物理卷出现故障，数据都会无法恢复。

逻辑卷实现镜像：
        镜像：对某个逻辑卷的数据做镜像，起到数据备份的作用。

磁盘配额
        作用： 限制用户或组对磁盘空间的使用，例如文件服务器，邮件服务器...

格式化格式为ext4





MySQL备份（Backup）与 恢复（Restore）汇总
1.mysqldump
2.mysqlbackup
3.mysqlhotcopy
4.xtrabackup/innobackupex
5.cp


负载均衡（LB）
高可用集群（HA）
高可用集群是指通过特殊的软件把独立的服务器连接起来，组成一个能够提供故障切换（Fail Over）功能的集群

GTIDs：全局事务标识符

半同步复制：确保slave接受到了完整的binlig日志后，才会告诉对方已经接受完毕，保证数据的一致性（会牺牲master的性能），当半同步同步超时后，会自动切换到同步复制状态。

mycat配置双主 读写分离，缓解压力


keepalived  防止单点故障  利用VRRP 虚拟路由冗余协议  给两台服务器的IP映射到一个用于访问的虚拟IP上  当故障发生后 将用于访问的虚拟IP切换到另一台服务器。  实现发生故障之后的有效切换，避免业务的中断。  提升整个集群的可用性

keepalived的三个模块  core、check和vrrp


mycat 读写分离（将主从分为一台负责读，一台负责写入。
8066端口是mycat的代理端口，用于客户连接后台mysql数据库
9066端口是mycat的管理端口，用于管理监控mysql数据库



mysql 增量备份和全量备份的思路
开启mysql的logbin日志功能 
写增量备份的脚本
写全量备份的脚本
给予权限
开启定时任务
crontab定时器 定时执行脚本

增删改查  
慢查询：查询慢的语句，耗费时间，优化不好的语句。（需要在数据库中开启慢查询功能）



5.5之后使用InnoDB，是MySQL的数据库引擎之一 （InnoDB的最大特色就是支持了ACID兼容的事务）


5.5之前使用MyISAM是默认存储引擎

SQL：当前主流的关系型数据库有Oracle、DB2、PostgreSQL、Microsoft SQL Server、Microsoft Access、MySQL、浪潮K-DB等。


NOSQL：非关系型数据库



SNAT和DNAT的区别：

1、从定义来讲它们一个是源地址转换，一个是目标地址转换。都是地址转换的功能，将私有地址转换为公网地址。
2、要区分这两个功能可以简单的由连接发起者是谁来区分：内部地址要访问公网上的服务时（如web访问），内部地址会主动发起连接，由路由器或者防火墙上的网关对内部地址做个地址转换，将内部地址的私有IP转换为公网的公有IP，网关的这个地址转换称为SNAT，主要用于内部共享IP访问外部。

3、当内部需要提供对外服务时（如对外发布web网站），外部地址发起主动连接，由路由器或者防火墙上的网关接收这个连接，然后将连接转换到内部，此过程是由带有公网IP的网关替代内部服务来接收外部的连接，然后在内部做地址转换，此转换称为DNAT，主要用于内部服务对外发布。